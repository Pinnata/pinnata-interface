{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ContractKitProvider = exports.ContractKitContext = void 0;\n\nvar react_1 = __importStar(require(\"react\"));\n\nvar connectors_1 = require(\"./connectors\");\n\nvar constants_1 = require(\"./constants\");\n\nvar contract_kit_reducer_1 = require(\"./contract-kit-reducer\");\n\nvar modals_1 = require(\"./modals\");\n\nvar helpers_1 = require(\"./utils/helpers\");\n\nvar useIsMounted_1 = require(\"./utils/useIsMounted\");\n\nvar initialState = {\n  connector: new connectors_1.UnauthenticatedConnector(constants_1.Mainnet),\n  connectorInitError: null,\n  dapp: {\n    name: 'Celo dApp',\n    description: 'Celo dApp',\n    url: 'https://celo.org',\n    icon: 'https://celo.org/favicon.ico'\n  },\n  network: constants_1.Mainnet,\n  networks: [],\n  pendingActionCount: 0,\n  address: null,\n  connectionCallback: null\n};\nexports.ContractKitContext = react_1.createContext([initialState, function () {\n  return undefined;\n}]);\n\nvar ContractKitProvider = function (_a) {\n  var _b;\n\n  var children = _a.children,\n      connectModal = _a.connectModal,\n      actionModal = _a.actionModal,\n      dapp = _a.dapp,\n      _c = _a.networks,\n      networks = _c === void 0 ? [] : _c;\n  var isMountedRef = useIsMounted_1.useIsMounted();\n\n  var _d = react_1.useReducer(contract_kit_reducer_1.contractKitReducer, __assign(__assign(__assign({}, initialState), helpers_1.loadPreviousConfig()), {\n    networks: networks,\n    dapp: __assign(__assign({}, dapp), {\n      icon: (_b = dapp.icon) !== null && _b !== void 0 ? _b : dapp.url + \"/favicon.ico\"\n    })\n  })),\n      state = _d[0],\n      _dispatch = _d[1];\n\n  var dispatch = react_1.useCallback(function (type) {\n    var payload = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      payload[_i - 1] = arguments[_i];\n    }\n\n    if (isMountedRef.current) {\n      _dispatch({\n        type: type,\n        payload: payload[0]\n      });\n    }\n  }, [isMountedRef]);\n  return react_1.default.createElement(exports.ContractKitContext.Provider, {\n    value: [state, dispatch]\n  }, react_1.default.createElement(modals_1.ConnectModal, __assign({}, connectModal)), react_1.default.createElement(modals_1.ActionModal, __assign({}, actionModal)), children);\n};\n\nexports.ContractKitProvider = ContractKitProvider;","map":{"version":3,"sources":["../src/contract-kit-provider.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ContractKitProvider = exports.ContractKitContext = void 0;\nvar react_1 = __importStar(require(\"react\"));\nvar connectors_1 = require(\"./connectors\");\nvar constants_1 = require(\"./constants\");\nvar contract_kit_reducer_1 = require(\"./contract-kit-reducer\");\nvar modals_1 = require(\"./modals\");\nvar helpers_1 = require(\"./utils/helpers\");\nvar useIsMounted_1 = require(\"./utils/useIsMounted\");\nvar initialState = {\n    connector: new connectors_1.UnauthenticatedConnector(constants_1.Mainnet),\n    connectorInitError: null,\n    dapp: {\n        name: 'Celo dApp',\n        description: 'Celo dApp',\n        url: 'https://celo.org',\n        icon: 'https://celo.org/favicon.ico',\n    },\n    network: constants_1.Mainnet,\n    networks: [],\n    pendingActionCount: 0,\n    address: null,\n    connectionCallback: null,\n};\nexports.ContractKitContext = react_1.createContext([\n    initialState,\n    function () { return undefined; },\n]);\nvar ContractKitProvider = function (_a) {\n    var _b;\n    var children = _a.children, connectModal = _a.connectModal, actionModal = _a.actionModal, dapp = _a.dapp, _c = _a.networks, networks = _c === void 0 ? [] : _c;\n    var isMountedRef = useIsMounted_1.useIsMounted();\n    var _d = react_1.useReducer(contract_kit_reducer_1.contractKitReducer, __assign(__assign(__assign({}, initialState), helpers_1.loadPreviousConfig()), { networks: networks, dapp: __assign(__assign({}, dapp), { icon: (_b = dapp.icon) !== null && _b !== void 0 ? _b : dapp.url + \"/favicon.ico\" }) })), state = _d[0], _dispatch = _d[1];\n    var dispatch = react_1.useCallback(function (type) {\n        var payload = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            payload[_i - 1] = arguments[_i];\n        }\n        if (isMountedRef.current) {\n            _dispatch({ type: type, payload: payload[0] });\n        }\n    }, [isMountedRef]);\n    return (react_1.default.createElement(exports.ContractKitContext.Provider, { value: [state, dispatch] },\n        react_1.default.createElement(modals_1.ConnectModal, __assign({}, connectModal)),\n        react_1.default.createElement(modals_1.ActionModal, __assign({}, actionModal)),\n        children));\n};\nexports.ContractKitProvider = ContractKitProvider;\n//# sourceMappingURL=contract-kit-provider.js.map"]},"metadata":{},"sourceType":"script"}