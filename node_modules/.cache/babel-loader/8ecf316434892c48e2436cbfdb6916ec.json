{"ast":null,"code":"\"use strict\";\n\nvar __spreadArray = this && this.__spreadArray || function (to, from) {\n  for (var i = 0, il = from.length, j = to.length; i < il; i++, j++) to[j] = from[i];\n\n  return to;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.loadPreviousConfig = void 0;\n\nvar connectors_1 = require(\"../connectors\");\n\nvar constants_1 = require(\"../constants\");\n\nvar loadPreviousConfig = function () {\n  var _a;\n\n  var _b;\n\n  var lastUsedNetworkName = constants_1.Mainnet.name;\n  var lastUsedAddress = null;\n  var lastUsedWalletType = constants_1.WalletTypes.Unauthenticated;\n  var lastUsedWalletArguments = [];\n\n  if (typeof localStorage !== 'undefined') {\n    var localLastUsedNetworkName = localStorage.getItem(constants_1.localStorageKeys.lastUsedNetwork);\n\n    if (localLastUsedNetworkName) {\n      lastUsedNetworkName = localLastUsedNetworkName;\n    }\n\n    lastUsedAddress = localStorage.getItem(constants_1.localStorageKeys.lastUsedAddress);\n    var localLastUsedWalletType = localStorage.getItem(constants_1.localStorageKeys.lastUsedWalletType);\n\n    if (localLastUsedWalletType && localLastUsedWalletType in constants_1.WalletTypes) {\n      lastUsedWalletType = localLastUsedWalletType;\n    }\n\n    var localLastUsedWalletArguments = localStorage.getItem(constants_1.localStorageKeys.lastUsedWalletArguments);\n\n    if (localLastUsedWalletArguments) {\n      try {\n        lastUsedWalletArguments = JSON.parse(localLastUsedWalletArguments);\n      } catch (e) {\n        lastUsedWalletArguments = [];\n      }\n    }\n  }\n\n  var lastUsedNetwork = (_b = constants_1.DEFAULT_NETWORKS.find(function (n) {\n    return n.name === lastUsedNetworkName;\n  })) !== null && _b !== void 0 ? _b : constants_1.Mainnet;\n  var initialConnector;\n\n  if (lastUsedWalletType) {\n    try {\n      initialConnector = new ((_a = connectors_1.CONNECTOR_TYPES[lastUsedWalletType]).bind.apply(_a, __spreadArray([void 0, lastUsedNetwork], lastUsedWalletArguments)))();\n    } catch (e) {\n      initialConnector = new connectors_1.UnauthenticatedConnector(lastUsedNetwork);\n    }\n  } else {\n    initialConnector = new connectors_1.UnauthenticatedConnector(lastUsedNetwork);\n  }\n\n  return {\n    address: lastUsedAddress,\n    network: lastUsedNetwork,\n    connector: initialConnector\n  };\n};\n\nexports.loadPreviousConfig = loadPreviousConfig;","map":{"version":3,"sources":["../../src/utils/helpers.ts"],"names":[],"mappings":";;;;;;;;;;;;;AAAA,IAAA,YAAA,GAAA,OAAA,CAAA,eAAA,CAAA;;AACA,IAAA,WAAA,GAAA,OAAA,CAAA,cAAA,CAAA;;AASO,IAAM,kBAAkB,GAAG,YAAA;;;;;AAKhC,MAAI,mBAAmB,GAAiB,WAAA,CAAA,OAAA,CAAQ,IAAhD;AACA,MAAI,eAAe,GAAkB,IAArC;AACA,MAAI,kBAAkB,GAAgB,WAAA,CAAA,WAAA,CAAY,eAAlD;AACA,MAAI,uBAAuB,GAAc,EAAzC;;AACA,MAAI,OAAO,YAAP,KAAwB,WAA5B,EAAyC;AACvC,QAAM,wBAAwB,GAAG,YAAY,CAAC,OAAb,CAC/B,WAAA,CAAA,gBAAA,CAAiB,eADc,CAAjC;;AAGA,QAAI,wBAAJ,EAA8B;AAC5B,MAAA,mBAAmB,GAAG,wBAAtB;AACD;;AAED,IAAA,eAAe,GAAG,YAAY,CAAC,OAAb,CAAqB,WAAA,CAAA,gBAAA,CAAiB,eAAtC,CAAlB;AAEA,QAAM,uBAAuB,GAAG,YAAY,CAAC,OAAb,CAC9B,WAAA,CAAA,gBAAA,CAAiB,kBADa,CAAhC;;AAGA,QAAI,uBAAuB,IAAI,uBAAuB,IAAI,WAAA,CAAA,WAA1D,EAAuE;AACrE,MAAA,kBAAkB,GAAG,uBAArB;AACD;;AAED,QAAM,4BAA4B,GAAG,YAAY,CAAC,OAAb,CACnC,WAAA,CAAA,gBAAA,CAAiB,uBADkB,CAArC;;AAGA,QAAI,4BAAJ,EAAkC;AAChC,UAAI;AACF,QAAA,uBAAuB,GAAG,IAAI,CAAC,KAAL,CACxB,4BADwB,CAA1B;AAGD,OAJD,CAIE,OAAO,CAAP,EAAU;AACV,QAAA,uBAAuB,GAAG,EAA1B;AACD;AACF;AACF;;AAED,MAAM,eAAe,GACnB,CAAA,EAAA,GAAA,WAAA,CAAA,gBAAA,CAAiB,IAAjB,CAAsB,UAAC,CAAD,EAAE;AAAK,WAAA,CAAC,CAAC,IAAF,KAAA,mBAAA;AAA8B,GAA3D,CAAA,MAA4D,IAA5D,IAA4D,EAAA,KAAA,KAAA,CAA5D,GAA4D,EAA5D,GAAgE,WAAA,CAAA,OADlE;AAGA,MAAI,gBAAJ;;AACA,MAAI,kBAAJ,EAAwB;AACtB,QAAI;AACF,MAAA,gBAAgB,GAAA,KAAO,CAAA,EAAA,GAAA,YAAA,CAAA,eAAA,CAAgB,kBAAhB,CAAA,EAAmC,IAAnC,CAAmC,KAAnC,CAAmC,EAAnC,EAAmC,aAAA,CAAA,CAAA,KAAA,CAAA,EACxD,eADwD,CAAA,EAErD,uBAFqD,CAAnC,CAAP,GAAhB;AAID,KALD,CAKE,OAAO,CAAP,EAAU;AACV,MAAA,gBAAgB,GAAG,IAAI,YAAA,CAAA,wBAAJ,CAA6B,eAA7B,CAAnB;AACD;AACF,GATD,MASO;AACL,IAAA,gBAAgB,GAAG,IAAI,YAAA,CAAA,wBAAJ,CAA6B,eAA7B,CAAnB;AACD;;AAED,SAAO;AACL,IAAA,OAAO,EAAE,eADJ;AAEL,IAAA,OAAO,EAAE,eAFJ;AAGL,IAAA,SAAS,EAAE;AAHN,GAAP;AAKD,CA9DM;;AAAM,OAAA,CAAA,kBAAA,GAAkB,kBAAlB","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.loadPreviousConfig = void 0;\nvar connectors_1 = require(\"../connectors\");\nvar constants_1 = require(\"../constants\");\nvar loadPreviousConfig = function () {\n    var _a;\n    var _b;\n    var lastUsedNetworkName = constants_1.Mainnet.name;\n    var lastUsedAddress = null;\n    var lastUsedWalletType = constants_1.WalletTypes.Unauthenticated;\n    var lastUsedWalletArguments = [];\n    if (typeof localStorage !== 'undefined') {\n        var localLastUsedNetworkName = localStorage.getItem(constants_1.localStorageKeys.lastUsedNetwork);\n        if (localLastUsedNetworkName) {\n            lastUsedNetworkName = localLastUsedNetworkName;\n        }\n        lastUsedAddress = localStorage.getItem(constants_1.localStorageKeys.lastUsedAddress);\n        var localLastUsedWalletType = localStorage.getItem(constants_1.localStorageKeys.lastUsedWalletType);\n        if (localLastUsedWalletType && localLastUsedWalletType in constants_1.WalletTypes) {\n            lastUsedWalletType = localLastUsedWalletType;\n        }\n        var localLastUsedWalletArguments = localStorage.getItem(constants_1.localStorageKeys.lastUsedWalletArguments);\n        if (localLastUsedWalletArguments) {\n            try {\n                lastUsedWalletArguments = JSON.parse(localLastUsedWalletArguments);\n            }\n            catch (e) {\n                lastUsedWalletArguments = [];\n            }\n        }\n    }\n    var lastUsedNetwork = (_b = constants_1.DEFAULT_NETWORKS.find(function (n) { return n.name === lastUsedNetworkName; })) !== null && _b !== void 0 ? _b : constants_1.Mainnet;\n    var initialConnector;\n    if (lastUsedWalletType) {\n        try {\n            initialConnector = new ((_a = connectors_1.CONNECTOR_TYPES[lastUsedWalletType]).bind.apply(_a, __spreadArray([void 0, lastUsedNetwork], lastUsedWalletArguments)))();\n        }\n        catch (e) {\n            initialConnector = new connectors_1.UnauthenticatedConnector(lastUsedNetwork);\n        }\n    }\n    else {\n        initialConnector = new connectors_1.UnauthenticatedConnector(lastUsedNetwork);\n    }\n    return {\n        address: lastUsedAddress,\n        network: lastUsedNetwork,\n        connector: initialConnector,\n    };\n};\nexports.loadPreviousConfig = loadPreviousConfig;\n//# sourceMappingURL=helpers.js.map"]},"metadata":{},"sourceType":"script"}