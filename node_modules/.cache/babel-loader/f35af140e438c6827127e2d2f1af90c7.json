{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useContractKit } from \"@celo-tools/use-contractkit\";\nimport { StableToken } from \"@celo/contractkit\";\nimport { useAsyncState } from \"src/hooks/useAsyncState\";\nimport { FEE_MODULE_V1 } from \"src/config\";\nimport { toBN } from \"web3-utils\";\nexport const useCUSD = () => {\n  _s();\n\n  const {\n    kit,\n    address\n  } = useContractKit();\n  const call = React.useCallback(async () => {\n    if (!address) {\n      return null;\n    }\n\n    const cUSD = await kit._web3Contracts.getStableToken(StableToken.cUSD);\n    const allowance = toBN(await cUSD.methods.allowance(address, FEE_MODULE_V1).call());\n    const balance = toBN(await cUSD.methods.balanceOf(address).call());\n    return {\n      allowance,\n      balance\n    };\n  }, [kit, address]);\n  return useAsyncState(null, call);\n};\n\n_s(useCUSD, \"65oUwvUZD1z9qgK3qj8TClGRkms=\", false, function () {\n  return [useContractKit, useAsyncState];\n});","map":{"version":3,"sources":["/Users/kylescott/src/nomspace-interface/src/hooks/useCUSD.ts"],"names":["React","useContractKit","StableToken","useAsyncState","FEE_MODULE_V1","toBN","useCUSD","kit","address","call","useCallback","cUSD","_web3Contracts","getStableToken","allowance","methods","balance","balanceOf"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,cAAT,QAA+B,6BAA/B;AACA,SAASC,WAAT,QAA4B,mBAA5B;AACA,SAASC,aAAT,QAA8B,yBAA9B;AACA,SAASC,aAAT,QAA8B,YAA9B;AACA,SAASC,IAAT,QAAqB,YAArB;AAEA,OAAO,MAAMC,OAAO,GAAG,MAAM;AAAA;;AAC3B,QAAM;AAAEC,IAAAA,GAAF;AAAOC,IAAAA;AAAP,MAAmBP,cAAc,EAAvC;AACA,QAAMQ,IAAI,GAAGT,KAAK,CAACU,WAAN,CAAkB,YAAY;AACzC,QAAI,CAACF,OAAL,EAAc;AACZ,aAAO,IAAP;AACD;;AACD,UAAMG,IAAI,GAAG,MAAMJ,GAAG,CAACK,cAAJ,CAAmBC,cAAnB,CAAkCX,WAAW,CAACS,IAA9C,CAAnB;AACA,UAAMG,SAAS,GAAGT,IAAI,CACpB,MAAMM,IAAI,CAACI,OAAL,CAAaD,SAAb,CAAuBN,OAAvB,EAAgCJ,aAAhC,EAA+CK,IAA/C,EADc,CAAtB;AAGA,UAAMO,OAAO,GAAGX,IAAI,CAAC,MAAMM,IAAI,CAACI,OAAL,CAAaE,SAAb,CAAuBT,OAAvB,EAAgCC,IAAhC,EAAP,CAApB;AACA,WAAO;AAAEK,MAAAA,SAAF;AAAaE,MAAAA;AAAb,KAAP;AACD,GAVY,EAUV,CAACT,GAAD,EAAMC,OAAN,CAVU,CAAb;AAWA,SAAOL,aAAa,CAAC,IAAD,EAAOM,IAAP,CAApB;AACD,CAdM;;GAAMH,O;UACcL,c,EAYlBE,a","sourcesContent":["import React from \"react\";\nimport { useContractKit } from \"@celo-tools/use-contractkit\";\nimport { StableToken } from \"@celo/contractkit\";\nimport { useAsyncState } from \"src/hooks/useAsyncState\";\nimport { FEE_MODULE_V1 } from \"src/config\";\nimport { toBN } from \"web3-utils\";\n\nexport const useCUSD = () => {\n  const { kit, address } = useContractKit();\n  const call = React.useCallback(async () => {\n    if (!address) {\n      return null;\n    }\n    const cUSD = await kit._web3Contracts.getStableToken(StableToken.cUSD);\n    const allowance = toBN(\n      await cUSD.methods.allowance(address, FEE_MODULE_V1).call()\n    );\n    const balance = toBN(await cUSD.methods.balanceOf(address).call());\n    return { allowance, balance };\n  }, [kit, address]);\n  return useAsyncState(null, call);\n};\n"]},"metadata":{},"sourceType":"module"}