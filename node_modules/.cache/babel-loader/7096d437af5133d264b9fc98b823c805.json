{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nexport function useAsyncState(initialState, asyncGetter) {\n  _s();\n\n  const [state, setState] = useState(initialState);\n  const [dirty, setDirty] = useState(true);\n  useEffect(() => {\n    var _asyncGetter;\n\n    (_asyncGetter = asyncGetter()) === null || _asyncGetter === void 0 ? void 0 : _asyncGetter.then(v => {\n      setState(v);\n      setDirty(false);\n    }).catch(console.warn);\n  }, [asyncGetter, dirty]);\n\n  const refetch = () => {\n    setDirty(true);\n  };\n\n  return [state, refetch];\n}\n\n_s(useAsyncState, \"nU+Aob9973LcbGFm09VdGxaqJtM=\");","map":{"version":3,"sources":["/Users/kylescott/src/nomspace-interface/src/hooks/useAsyncState.ts"],"names":["useEffect","useState","useAsyncState","initialState","asyncGetter","state","setState","dirty","setDirty","then","v","catch","console","warn","refetch"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AAEA,OAAO,SAASC,aAAT,CACLC,YADK,EAELC,WAFK,EAGY;AAAA;;AACjB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBL,QAAQ,CAAIE,YAAJ,CAAlC;AACA,QAAM,CAACI,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,CAAU,IAAV,CAAlC;AACAD,EAAAA,SAAS,CAAC,MAAM;AAAA;;AACd,oBAAAI,WAAW,YAAX,oDACIK,IADJ,CACUC,CAAD,IAAO;AACZJ,MAAAA,QAAQ,CAACI,CAAD,CAAR;AACAF,MAAAA,QAAQ,CAAC,KAAD,CAAR;AACD,KAJH,EAKGG,KALH,CAKSC,OAAO,CAACC,IALjB;AAMD,GAPQ,EAON,CAACT,WAAD,EAAcG,KAAd,CAPM,CAAT;;AASA,QAAMO,OAAO,GAAG,MAAM;AACpBN,IAAAA,QAAQ,CAAC,IAAD,CAAR;AACD,GAFD;;AAIA,SAAO,CAACH,KAAD,EAAQS,OAAR,CAAP;AACD;;GApBeZ,a","sourcesContent":["import { useEffect, useState } from \"react\";\n\nexport function useAsyncState<T>(\n  initialState: T,\n  asyncGetter: () => Promise<T> | undefined\n): [T, () => void] {\n  const [state, setState] = useState<T>(initialState);\n  const [dirty, setDirty] = useState<boolean>(true);\n  useEffect(() => {\n    asyncGetter()\n      ?.then((v) => {\n        setState(v);\n        setDirty(false);\n      })\n      .catch(console.warn);\n  }, [asyncGetter, dirty]);\n\n  const refetch = () => {\n    setDirty(true);\n  };\n\n  return [state, refetch];\n}\n"]},"metadata":{},"sourceType":"module"}