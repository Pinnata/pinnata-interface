{"ast":null,"code":"var _jsxFileName = \"/Users/kylescott/src/nomspace-interface/src/pages/Position/Add/add.tsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { atom, useSetRecoilState, useRecoilState } from 'recoil';\nimport { getToken } from \"src/utils/token\";\nimport { useParams } from \"react-router-dom\";\nimport { poolState } from \"src/pages/Farm/newFarm/NewFarm\";\nimport { Supply } from \"src/pages/Position/Add/supply\";\nimport { Borrow } from \"src/pages/Position/Add/borrow\"; // import { Confirm } from \"src/pages/Position/Add/confirm\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport let addPage;\n\n(function (addPage) {\n  addPage[addPage[\"Supply\"] = 0] = \"Supply\";\n  addPage[addPage[\"Borrow\"] = 1] = \"Borrow\";\n  addPage[addPage[\"Confirm\"] = 2] = \"Confirm\";\n})(addPage || (addPage = {}));\n\nexport const addPageState = atom({\n  key: 'addPageState',\n  default: addPage.Supply\n});\nconst emptyAddPositionState = {\n  positionId: null,\n  collateralSize: null\n};\nexport const addPositionState = atom({\n  key: 'addPositionState',\n  default: emptyAddPositionState\n});\nconst emptyFarmState = {\n  tokenSupply: null,\n  lpSupply: null,\n  tokenBorrow: null,\n  lpBorrow: null,\n  positionId: null,\n  collateralSize: null,\n  existingBalance: null,\n  supplyValue: null,\n  borrowValue: null,\n  debtRatio: null,\n  lever: null\n};\nexport const addFarmState = atom({\n  key: 'addFarmState',\n  default: emptyFarmState\n});\nexport const Add = () => {\n  _s();\n\n  const {\n    positionId,\n    collateralSize,\n    name,\n    wrapper,\n    spell,\n    lp,\n    tokens\n  } = useParams();\n  const setPool = useSetRecoilState(poolState);\n  const setFarm = useSetRecoilState(addFarmState);\n  const set = {\n    name: name,\n    wrapper: wrapper,\n    spell: spell,\n    lp: lp,\n    tokens: tokens.split(',').map(x => getToken(x))\n  };\n  setPool(set);\n  setFarm({ ...emptyFarmState,\n    positionId,\n    collateralSize\n  });\n  const [page] = useRecoilState(addPageState);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: page === addPage.Supply ? /*#__PURE__*/_jsxDEV(Supply, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }, this) : page === addPage.Borrow ? /*#__PURE__*/_jsxDEV(Borrow, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(Borrow, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this) // <Confirm />\n\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Add, \"le+I4B/s+Dtg/6ld8XRQOw39Txo=\", false, function () {\n  return [useParams, useSetRecoilState, useSetRecoilState, useRecoilState];\n});\n\n_c = Add;\n\nvar _c;\n\n$RefreshReg$(_c, \"Add\");","map":{"version":3,"sources":["/Users/kylescott/src/nomspace-interface/src/pages/Position/Add/add.tsx"],"names":["React","atom","useSetRecoilState","useRecoilState","getToken","useParams","poolState","Supply","Borrow","addPage","addPageState","key","default","emptyAddPositionState","positionId","collateralSize","addPositionState","emptyFarmState","tokenSupply","lpSupply","tokenBorrow","lpBorrow","existingBalance","supplyValue","borrowValue","debtRatio","lever","addFarmState","Add","name","wrapper","spell","lp","tokens","setPool","setFarm","set","split","map","x","page"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { atom, useSetRecoilState, useRecoilState } from 'recoil';\nimport { getToken } from \"src/utils/token\";\nimport { useParams } from \"react-router-dom\";\nimport { poolState, poolProps } from \"src/pages/Farm/newFarm/NewFarm\";\nimport BN from 'bn.js';\nimport { Supply } from \"src/pages/Position/Add/supply\";\nimport { Borrow } from \"src/pages/Position/Add/borrow\";\n// import { Confirm } from \"src/pages/Position/Add/confirm\";\n\n\nexport enum addPage {\n    Supply, \n    Borrow, \n    Confirm,\n}\n  \nexport const addPageState = atom({\n    key: 'addPageState',\n    default: addPage.Supply\n})\n\nexport interface positionProps {\n  positionId: string | null;\n  collateralSize: string | null; \n}\n\nconst emptyAddPositionState : positionProps = {\n  positionId: null,\n  collateralSize: null,\n}\n\nexport const addPositionState = atom({\n  key: 'addPositionState',\n  default: emptyAddPositionState\n})\n\nexport interface addFarmProps {\n    tokenSupply: BN[] | null;\n    lpSupply: BN | null;\n    tokenBorrow: BN[] | null;\n    lpBorrow: BN | null;\n    collateralSize: string | null; \n    existingBalance: BN[] | null; \n    supplyValue: number | null;\n    borrowValue: number | null;\n    debtRatio: number | null;\n    lever: number | null;\n  }\n  \n  const emptyFarmState : addFarmProps = {\n    tokenSupply: null,\n    lpSupply: null,\n    tokenBorrow: null,\n    lpBorrow: null,\n    positionId: null,\n    collateralSize: null, \n    existingBalance: null, \n    supplyValue: null,\n    borrowValue: null,\n    debtRatio: null,\n    lever: null,\n  }\n  \n  export const addFarmState = atom({\n    key: 'addFarmState',\n    default: emptyFarmState\n  })\n\nexport const Add: React.FC = () => {\n  const { positionId, collateralSize, name, wrapper, spell, lp, tokens } = useParams<{ positionId: string, collateralSize: string, name: string, wrapper: string, spell: string, lp:string, tokens:string}>();\n  const setPool = useSetRecoilState(poolState); \n  const setFarm = useSetRecoilState(addFarmState)\n  const set: poolProps  = {\n      name: name,\n      wrapper: wrapper,\n      spell: spell,\n      lp: lp,\n      tokens: (tokens.split(',').map((x) => getToken(x)!)),\n  }\n  setPool(set);  \n  setFarm({\n      ...emptyFarmState,\n      positionId, \n      collateralSize,\n  })\n\n  const [page] = useRecoilState(addPageState);\n\n  return (\n    <div>\n      {\n        page === addPage.Supply ? (\n            <Supply />\n          ) : (\n            page === addPage.Borrow ? (\n            <Borrow />\n          ) : (\n            <Borrow />\n            // <Confirm />\n          ))}\n    </div>\n    \n  );\n};"]},"metadata":{},"sourceType":"module"}